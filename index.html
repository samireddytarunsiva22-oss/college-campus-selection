<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Campus Jod and Student Portal</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #fff;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  nav {
    background: rgba(0,0,0,0.6);
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 1000;
    box-shadow: 0 0 20px rgba(0,255,255,0.4);
  }
  nav a {
    color: #00f0ff;
    margin: 0 15px;
    cursor: pointer;
    transition: 0.3s;
  }
  nav a:hover {
    text-shadow: 0 0 15px #00f0ff;
    transform: scale(1.1);
  }
  section {
    display: none;
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.6s ease;
    padding-top: 100px;
    position: relative;
    z-index: 1;
  }
  section.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
  }
  h2 {
    text-align: center;
    margin-bottom: 25px;
    text-shadow: 0 0 10px #00f0ff;
  }
  .card {
    background: linear-gradient(135deg, rgba(0,0,0,0.6), rgba(0,255,255,0.05));
    border-radius: 20px;
    padding: 25px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0,255,255,0.3);
    color: #fff;
    transition: all 0.3s ease;
  }
  .card:hover {
    transform: scale(1.07);
    box-shadow: 0 0 35px rgba(0,255,255,0.7);
  }
  .btn {
    border-radius: 25px;
    transition: 0.3s;
  }
  .btn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 15px #00f0ff;
  }
  footer {
    background: rgba(0,0,0,0.7);
    padding: 10px;
    text-align: center;
    color: #00f0ff;
    margin-top: 40px;
  }
  .right-btn { float: right; margin-bottom: 10px; }
  .details { display: none; margin-top: 10px; transition: all 0.5s ease-in-out; }
  .student-header { display: flex; justify-content: space-between; align-items: center; }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg py-3">
  <div class="container">
    <a class="navbar-brand" style="color:#00f0ff;">Campus Portal</a>
    <div>
      <a onclick="showSection('students')">Students</a>
      <a onclick="showSection('jobs')">Jobs</a>
      <a onclick="showSection('alumni')">Alumni of College</a>
      <a onclick="showSection('management')">Company Management</a>
    </div>
  </div>
</nav>

<!-- Students Section -->
<section id="students" class="container active">
  <h2>Students</h2>
  <button class="btn btn-primary right-btn" onclick="toggleStudentForm()">+ Register Student</button>

  <div id="studentFormCard" class="card p-4" style="display:none;">
    <h4>Create Student Profile</h4>
    <form id="studentForm">
      <div class="mb-3"><label class="form-label">Name</label><input type="text" class="form-control" id="studentName" required></div>
      <div class="mb-3"><label class="form-label">College Name</label><input type="text" class="form-control" id="studentCollege" required></div>
      <div class="mb-3"><label class="form-label">College Code</label><input type="text" class="form-control" id="studentCollegeCode" required></div>
      <div class="mb-3"><label class="form-label">Course</label><input type="text" class="form-control" id="studentCourse" required></div>
      <div class="mb-3"><label class="form-label">Phone Number</label><input type="tel" class="form-control" id="studentPhone" required pattern="[0-9]{10}"></div>
      <div class="mb-3"><label class="form-label">PIN Number</label><input type="text" class="form-control" id="studentPin" required></div>
      <div class="mb-3"><label class="form-label">Skills</label><input type="text" class="form-control" id="studentSkills" placeholder="e.g., Java, Python"></div>
      <button class="btn btn-primary">Create Profile</button>
    </form>
  </div>

  <h4 class="mt-4 text-center">Registered Students</h4>
  <div id="studentList" class="mt-3"></div>
</section>

<!-- Jobs Section -->
<section id="jobs" class="container">
  <h2>Jobs & Registered Companies</h2>
  <div id="companyList" class="mt-4"></div>
</section>

<!-- Alumni Section -->
<section id="alumni" class="container">
  <h2>Alumni of College</h2>
  <div class="card p-4">
    <form id="alumniForm">
      <div class="mb-3"><label class="form-label">Full Name</label><input type="text" id="alumniName" class="form-control" required></div>
      <div class="mb-3"><label class="form-label">Graduation Year</label><input type="text" id="alumniYear" class="form-control" required></div>
      <div class="mb-3"><label class="form-label">Current Industry</label><input type="text" id="alumniIndustry" class="form-control" required></div>
      <div class="mb-3"><label class="form-label">Current Company</label><input type="text" id="alumniCompany" class="form-control" required></div>
      <button class="btn btn-warning w-100">Join Alumni Network</button>
    </form>
  </div>

  <h4 class="mt-4 text-center">Registered Alumni</h4>
  <div id="alumniList" class="mt-3"></div>
</section>

<!-- Company Management -->
<section id="management" class="container">
  <h2>Company Management</h2>
  <div class="card p-4 mb-4">
    <h4>Company Registration</h4>
    <form id="companyForm">
      <input type="text" id="companyName" class="form-control mb-3" placeholder="Company Name" required>
      <input type="text" id="loginSyntax" class="form-control mb-3" placeholder="Login Syntax (e.g., company@123)" required>
      <select id="companyType" class="form-control mb-3" required>
        <option value="">Type of Company</option>
        <option value="Software">Software</option>
        <option value="Finance">Finance</option>
        <option value="Marketing">Marketing</option>
        <option value="HR">HR</option>
      </select>
      <input type="tel" id="companyPhone" class="form-control mb-3" placeholder="Company Contact Number" pattern="[0-9]{10}" required>
      <button class="btn btn-info">Submit</button>
    </form>
  </div>
</section>

<footer><p>&copy; 2025 Campus Job & Internship Portal | All Rights Reserved</p></footer>

<!-- Firebase Integration -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
  import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD_X_ERc86GCC4cVhg6zIRVBvHDI2cUoLc",
    authDomain: "campus-job--internship-portal.firebaseapp.com",
    databaseURL: "https://campus-job--internship-portal-default-rtdb.firebaseio.com",
    projectId: "campus-job--internship-portal",
    storageBucket: "campus-job--internship-portal.firebasestorage.app",
    messagingSenderId: "264340935151",
    appId: "1:264340935151:web:80be9428c3782672cfa61a"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Section Switcher
  window.showSection = function(id) {
    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo({top:0, behavior:'smooth'});
  };

  window.toggleStudentForm = () => {
    const form = document.getElementById('studentFormCard');
    form.style.display = form.style.display === 'none' ? 'block' : 'none';
  };

  // --- Student Form ---
  document.getElementById('studentForm').onsubmit = e => {
    e.preventDefault();
    const data = {
      name: studentName.value,
      college: studentCollege.value,
      collegeCode: studentCollegeCode.value,
      course: studentCourse.value,
      phone: studentPhone.value,
      pin: studentPin.value,
      skills: studentSkills.value
    };
    push(ref(db, 'students'), data).then(() => {
      alert('Student added successfully!');
      e.target.reset();
    });
  };

  // --- Alumni Form ---
  document.getElementById('alumniForm').onsubmit = e => {
    e.preventDefault();
    const data = {
      name: alumniName.value,
      year: alumniYear.value,
      industry: alumniIndustry.value,
      company: alumniCompany.value
    };
    push(ref(db, 'alumni'), data).then(() => {
      alert('Alumni registered successfully!');
      e.target.reset();
    });
  };

  // --- Company Form ---
  document.getElementById('companyForm').onsubmit = e => {
    e.preventDefault();
    const data = {
      companyName: companyName.value,
      loginSyntax: loginSyntax.value,
      type: companyType.value,
      phone: companyPhone.value
    };
    push(ref(db, 'companies'), data).then(() => {
      alert('Company registered successfully!');
      e.target.reset();
    });
  };

  // --- Display Students ---
  const studentList = document.getElementById('studentList');
  onValue(ref(db, 'students'), snap => {
    studentList.innerHTML = '';
    snap.forEach(child => {
      const s = child.val();
      const div = document.createElement('div');
      div.className = 'card mb-3 p-3';
      div.innerHTML = `
        <div class="student-header">
          <h5 class="text-info mb-0">${s.name}</h5>
          <button class="btn btn-outline-info btn-sm toggle-btn">Show Details</button>
        </div>
        <div class="details mt-2">
          <p><strong>College:</strong> ${s.college}</p>
          <p><strong>Code:</strong> ${s.collegeCode}</p>
          <p><strong>Course:</strong> ${s.course}</p>
          <p><strong>Phone:</strong> ${s.phone}</p>
          <p><strong>PIN:</strong> ${s.pin}</p>
          <p><strong>Skills:</strong> ${s.skills || 'Not specified'}</p>
        </div>`;
      const btn = div.querySelector('.toggle-btn');
      const details = div.querySelector('.details');
      btn.onclick = () => {
        const visible = details.style.display === 'block';
        details.style.display = visible ? 'none' : 'block';
        btn.textContent = visible ? 'Show Details' : 'Hide Details';
      };
      studentList.appendChild(div);
    });
  });

  // --- Display Alumni ---
  const alumniList = document.getElementById('alumniList');
  onValue(ref(db, 'alumni'), snap => {
    alumniList.innerHTML = '';
    snap.forEach(child => {
      const a = child.val();
      const div = document.createElement('div');
      div.className = 'card mb-3 p-3';
      div.innerHTML = `
        <h5 class="text-warning">${a.name}</h5>
        <p><strong>Graduation Year:</strong> ${a.year}</p>
        <p><strong>Industry:</strong> ${a.industry}</p>
        <p><strong>Company:</strong> ${a.company}</p>`;
      alumniList.appendChild(div);
    });
  });

  // --- Display Companies in Jobs ---
  const companyList = document.getElementById('companyList');
  onValue(ref(db, 'companies'), snap => {
    companyList.innerHTML = '';
    snap.forEach(child => {
      const c = child.val();
      const div = document.createElement('div');
      div.className = 'card mb-3 p-3';
      div.innerHTML = `
        <h5 class="text-info">${c.companyName}</h5>
        <p><strong>Type:</strong> ${c.type}</p>
        <p><strong>Login Syntax:</strong> ${c.loginSyntax}</p>
        <p><strong>Contact:</strong> ${c.phone}</p>`;
      companyList.appendChild(div);
    });
  });
</script>
</body>
</html>
